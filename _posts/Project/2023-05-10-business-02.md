---
title:  "[ë¹„ì¦ˆë‹ˆìŠ¤ ë¶„ì„] Pythonìœ¼ë¡œ US E-commerce ë°ì´í„° ë¶„ì„í•˜ê¸° - RFM"
layout: single

categories: "Project"
tags: ["Python", "RFM"]

toc: true
toc_sticky: true
toc_label : "ëª©ì°¨"
toc_icon: "bars"
published: false
---

<small>ëª©í‘œ: Kaggleì˜ 'United States E-Commerce records 2020' ë°ì´í„°ì…‹ìœ¼ë¡œ RFM ë¶„ì„í•œë‹¤.</small>

***

# í”„ë¡œì íŠ¸ ëª©ì 
- '2020ë…„ ë¯¸êµ­ì˜ E-ì»¤ë¨¸ìŠ¤ íŒë§¤ ë°ì´í„°'ë¥¼ ì‚¬ìš©í•˜ì—¬ ìì‚¬ ì„œë¹„ìŠ¤ì˜ ë§¤ì¶œì„ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ê³ ì•ˆí•´ ë³¸ë‹¤.
- ìœ ì €ì˜ êµ¬ë§¤ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ RFM ë¶„ì„ì„ í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¸ì‚¬ì´íŠ¸ì™€ ì•¡ì…˜ì„ ì œì•ˆí•´ ë³¸ë‹¤.

<br>

# 1. ë°ì´í„°, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
ë¶„ì„ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•œë‹¤.
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# ê·¸ë˜í”„ ê·¸ë¦´ ë•Œ, í•œê¸€ì§€ì›
import koreanize_matplotlib
%config InlineBackend.figure_format = 'retina'
```

Kaggleì—ì„œ ë‹¤ìš´ë°›ì€ íŒŒì¼ì„ ë¡œë“œí•œë‹¤.
```python
df = pd.read_csv('US_E_commerce_records_2020.csv', encoding='windows-1252')
```

ğŸ“ **windows-1252**<br>
í•´ë‹¹ íŒŒì¼ì„ ë¡œë“œí•˜ë©´ utf-8 ë°©ì‹ìœ¼ë¡œ ë””ì½”ë”©í•  ìˆ˜ ì—†ê³  ìœ„ì¹˜ê°€ 8587ì˜ ë°”ì´íŠ¸ê°€ 0xa0ë¼ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ê°€ ë°œìƒí•œë‹¤. í™•ì¥ëœ ASCII ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” windons-1252ë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤. ìì„¸í•œ í•´ê²° ê³¼ì •ì€ [EDA ê³¼ì •ì„ ë‹´ì€ ê²Œì‹œë¬¼](https://j-jae0.github.io/project/business-01/)ì„ ì°¸ê³ í•˜ë©´ ëœë‹¤.
{: .notice}

<br>

# 2. ê³ ê°ì— ëŒ€í•œ ë°ì´í„°ì…‹ ì •ì˜
df(raw data)ëŠ” í•œ ì¥ë°”êµ¬ë‹ˆì— ëŒ€í•œ ë°ì´í„°ë¼ë„ ë¬¼í’ˆë³„ ì£¼ë¬¸ê±´ìˆ˜ë¥¼ í–‰ìœ¼ë¡œ ê¸°ì…ëœ ê²ƒì´ë‹¤. ê³ ê°ë³„ë¡œ ì£¼ë¬¸ê±´ìˆ˜ê°€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€, ì´ ì§€ì¶œì •ë„ê°€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ë“±ì„ ìƒˆë¡œìš´ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì •ì˜í•œë‹¤. 

```python
# ê³ ê°ë³„ ì´ íŒë§¤ì•¡, ìˆœì´ìµ, ì²«êµ¬ë§¤ì¼, ìµœê·¼êµ¬ë§¤ì¼, êµ¬ë§¤íšŸìˆ˜ë¥¼ customer_dfì— ì €ì¥í•œë‹¤.
customer_df = df.groupby(by='Customer ID').agg({'Sales': 'sum', 
                                                'Profit': 'sum', 
                                                'Order Date': ['min', 'max'], 
                                                'Order ID': 'nunique'})
# ì¸ë±ìŠ¤ì— ìœ„ì¹˜í•œ ì‚¬ìš©ì idë¥¼ ì»¬ëŸ¼ìœ¼ë¡œ ë‚´ë³´ë‚¸ë‹¤.
customer_df.reset_index(inplace=True)

# ì»¬ëŸ¼ëª…ì„ ë‹¤ì‹œ ì •ì˜í•œë‹¤.
columns = ['customer_id', 'total_sales', 'total_profit','first_order_date', 'last_order_date', 'cnt_orders']
customer_df.columns = columns
```

![datetime_info](/assets/images/US_E_Commerce/customer_df_head.png){: .align-center width="60%"}
<center><small>customer_df.head()ì˜ ì¶œë ¥ ê²°ê³¼ë¬¼</small></center>

<br>

# 3. 

<br>

# Reference
- [Kaggle, 'United States E-Commerce records 2020' ë°ì´í„°ì…‹ ì¶œì²˜](https://www.kaggle.com/datasets/ammaraahmad/us-ecommerce-record-2020)

<br>

ğŸ‘©ğŸ»â€ğŸ’»ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤
<br>ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ë”°ë”í•˜ê²Œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
{: .notice}