---
title:  "[기초 통계학] 신뢰구간, p-value"
layout: single

categories: "Special_lecture_ais7"
tags: "통계"

toc: true
toc_sticky: true
toc_label : "목차"
toc_icon: "bars"

published: false
---

***

# 신뢰구간(confidence interval) 이란?

대표적인 구간 추청 방법
모수가 있을 법한 범위로 추정
신뢰구간은 통계량 +- 오차범위
95% 신뢰구간 = 95%의 경우에 모수가 추정된 신뢰구간에 포함됨

신뢰수준
신뢰구간에 모수가 존재하는 표본의 비율
신뢰수준이 높음 -> 많은 표본을 포함 -> 더 넓은 오차범위 -> 정보가 적음
신뢰수준이 낮음 -> 적은 표본을 포함 -> 더 좁은 오차범위 -> 정보가 많음


신뢰구간이 좁으면 신뢰구간이 낮으므로 타협이 필요
교과서적으로는 95, 99를 추천하나 절ㅈ대적인 기준은 언ㅂㅅ음
감수할 수 있는 수준에서 결정


*평균의 신뢰구간
모든 통계량에는 신뢰구간이 존재함
평균의 경우에는 이론적으로 신뢰구간ㅇ르 간단히 구할 수 있음
다른 통계량은 부트스트래핑 등의 복잡한 계산이 필요

파이썬 평균의 ㅅ긴뢰구간
* 설치 pip install pingouin
평균의 95% 신뢰구간
import pingouin as pg
pg.ttest(df.price, 0, confidence=0.97)
아마도 이 언저리에 평균이 있을 거다~ 라는것을 생각할 수 있음 (틀릴 수 있음)


*신뢰구간에 영향을 주는 요소
신뢰구간이 좁을 수록 예측된 모수의 범위가 좁으므로 유용
신뢰수준 낮추기:큰의미없음
표본의 변산성 낮추기
-실험과 측정을 정확히 해서 변산성을 낮춤
-데이터에 내재한 변산성을 없앨 수 있음
표본의 크기를 키우기
-가장 쉬운 방법이나 시간과 비용이 증가

데이터가 적어지면 같은 신뢰수준에서도 신뢰구간 넓어짐
데이터가 많으면 같은 신뢰수준에서도 신뢰구간 좁아진다.

신뢰구간을 넣으면 t분포를 구할 수 있따?
n은 데이터 수


*부트스트래핑(bootstrapping)

평균과 달리 중간값, 최빈값 등의 통계량은 표집분포의 형태를 간단히 알기 어려움
표본이 충분히 크면 부트스트래핑이라는 시뮬레이션 기법을 사용해서 신뢰구간 추정

import scipy
scipy.stats.bootstrap([df.price], np.mean)
scipy.stats.bootstrap([df.price], np.median)

이론적으로 추정한거고, bootstrap은 램덤하게 뽑아내서 반복해서 해봐서 어느정도 샘플의 표본에 따라서 평균이 달라질 수 있는가를 .... 랜덤샘플링을 여러번 반복해서 - 결과 측정할때마다 값 다를 수 있음ㄴ

중간값은 공식으로 못구해서 이렇게 시뮬레이션으로 구할 수 있음